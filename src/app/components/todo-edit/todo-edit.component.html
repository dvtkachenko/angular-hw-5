<div class="container">
  <ngx-spinner type="ball-atom" loadingText="Processing ...">
  </ngx-spinner>
  <div class="card card-body">
    <form novalidate #form="ngForm">

      <div class="form-group">
        <label for="userId">User Id</label>
        <input type="number" name="userId" id="userId" class="form-control" [ngModel]="todo?.userId" (ngModelChange)="todo.userId = $event"
          #userId="ngModel" [ngClass]="{ 'is-invalid': userId.invalid && form.submitted }" required [readonly]="isReadOnly">
        <div class="invalid-feedback">
          User id can not be empty
        </div>
      </div>

      <div class="form-group">
        <label for="title">Title</label>
        <input type="text" name="title" id="title" class="form-control" [ngModel]="todo?.title" (ngModelChange)="todo.title = $event"
          #title="ngModel" [ngClass]="{ 'is-invalid': title.invalid && form.submitted }" required [readonly]="isReadOnly">
        <div class="invalid-feedback">
          Title can not be empty
        </div>
      </div>

      <div class="custom-control custom-checkbox mt-4 mb-3">
        <input type="checkbox" name="completed" id="completed" class="custom-control-input" [ngModel]="todo?.completed" (ngModelChange)="todo.completed = $event"
          #completed="ngModel" [disabled]="isReadOnly">
        <label class="custom-control-label" for="completed">Completed</label>
      </div>

      <button class="btn btn-primary m-1" *ngIf="isReadOnly" (click)="onEdit()">Edit</button>
      <button class="btn btn-primary m-1" *ngIf="!isReadOnly" (click)="onSave()" [disabled]="form.invalid">Save</button>
      <button class="btn btn-primary m-1" (click)="onCancel()">Cancel</button>
    </form>
  </div>
</div>